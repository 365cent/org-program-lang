<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with jLaTeX2HTML 2002 (1.62) JA patch-1.4
patched version by:  Kenshi Muto, Debian Project.
LaTeX2HTML 2002 (1.62),
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>How the input is matched</TITLE>
<META NAME="description" CONTENT="How the input is matched">
<META NAME="keywords" CONTENT="Lexical">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="jLaTeX2HTML v2002 JA patch-1.4">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="Lexical.css">

<LINK REL="next" HREF="node13.html">
<LINK REL="previous" HREF="node11.html">
<LINK REL="up" HREF="node9.html">
<LINK REL="next" HREF="node13.html">
</HEAD>

<BODY >

<A NAME="tex2html178"
  HREF="node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html176"
  HREF="node9.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html170"
  HREF="node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   <BR>
<B> Next:</B> <A NAME="tex2html179"
  HREF="node13.html">More examples</A>
<B>Up:</B> <A NAME="tex2html177"
  HREF="node9.html">LEX</A>
<B> Previous:</B> <A NAME="tex2html171"
  HREF="node11.html">LEX regular expressions</A>
<BR> <P>

<!--End of Navigation Panel-->

<H3><A NAME="SECTION00021300000000000000">
How the input is matched</A>
</H3>  
<P>
<U>B<SMALL>ASIC PRINCIPLES.</SMALL></U>         <DL COMPACT>
<DT>(1)</DT>
<DD>When the generated scanner is run, it analyses its
      input string looking for strings which match any of its  patterns. 
</DD>
<DT>(2)</DT>
<DD>If the current input can be matched by several expressions,
      then the ambiguity is resolved by the following rules.
     <DL COMPACT>
<DT>(2.1)</DT>
<DD>The longest match is preferred.
     
</DD>
<DT>(2.2)</DT>
<DD>The rule given first is preferred.
     
</DD>
</DL>
</DD>
<DT>(3)</DT>
<DD>Once the match is determined, 
     <DL COMPACT>
<DT>(3.1)</DT>
<DD>the  text  corresponding to it
      is available in the global  character pointer <TT>yytext</TT>
      its length is <TT>yyleng</TT> and the current line number is <TT>yylineno</TT>,
     
</DD>
<DT>(3.2)</DT>
<DD>and the action corresponding to the
                   matched pattern is then executed,
     
</DD>
<DT>(3.3)</DT>
<DD>and then the remaining input is
       scanned for another match.
     
</DD>
</DL>
</DD>
</DL>

<P>

<P>
<BR>

<P>

<P>
<BR>

<P>
<U>LEX <SMALL>ROUTINES AND MACROS.</SMALL></U> There are a number of  special  directives  which  can  be
included within an action.
<DL>
<DT><STRONG><TT>ECHO</TT></STRONG></DT>
<DD>copies <TT>yytext</TT> to the scanner's output.
</DD>
<DT><STRONG><TT>REJECT</TT></STRONG></DT>
<DD>directs  the  scanner  to proceed on to the
                   "second best" rule which matched the  input  (or  a
                   prefix  of  the  input).
                   For example, the following will both count the words in
                   the input and call the routine  special()  whenever
                  "foo" is seen:
<PRE>
int word_count = 0;
%%
foo     special(); REJECT;
[^ \t\n]+   ++word_count;
</PRE>
Multiple <TT>REJECT</TT>'s are allowed, each  one  finding  the  next
              best  choice  to  the  currently  active rule.
</DD>
<DT><STRONG><TT>yymore()</TT></STRONG></DT>
<DD>tells  the  scanner that the next time it
              matches a rule, the corresponding token  should  be
              appended  onto  the  current value of yytext rather
              than replacing it. The following
<PRE>
%%
very[ ] {ECHO; yymore();}
good ECHO;
</PRE>
 will write "very very good" to the output.
</DD>
</DL>
See also <TT>yyless()</TT>, <TT>yyterminate()</TT>, <TT>input()</TT>, <TT>output()</TT>, <TT>unput()</TT>
in the documentation.

<P>

<P>
<BR>

<P>
<U>S<SMALL>TART CONDITIONS</SMALL></U>   (or start conditions) are used to limit the scope of certain 
rules or to change the way the lexer treats part of the file.

<UL>
<LI>Start conditions are declared in the definition section.
      For instance
<PRE>
%s SC
</PRE>
creates a start condition called <TT>SC</TT>.
</LI>
<LI>In the transition rules section, a rule of the form
<PRE>
&lt;SC&gt;[aeiouy]* ECHO;
</PRE>
will only apply in the state <TT>SC</TT>.
</LI>
<LI>A state is changed with a statement
<PRE>
BEGIN SC;
</PRE>
in an action.
</LI>
<LI>LEX starts in state zero (<TT>0</TT>), also called initial state.
<PRE>
BEGIN 0;
</PRE>
will change back to this initial state.
</LI>
<LI>Rules that do not have start states can be applied in any state.
</LI>
</UL>

<P>
<HR>
<A NAME="tex2html178"
  HREF="node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html176"
  HREF="node9.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html170"
  HREF="node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   <BR>
<B> Next:</B> <A NAME="tex2html179"
  HREF="node13.html">More examples</A>
<B>Up:</B> <A NAME="tex2html177"
  HREF="node9.html">LEX</A>
<B> Previous:</B> <A NAME="tex2html171"
  HREF="node11.html">LEX regular expressions</A>

<!--End of Navigation Panel-->
<ADDRESS>
<I>Marc Moreno Maza <BR>
2004-12-02</I>
</ADDRESS>
</BODY>
</HTML>
